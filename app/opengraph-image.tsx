// app/opengraph-image.tsx - Utilise votre LogoIcon
import { ImageResponse } from 'next/og'

export const runtime = 'edge'
export const size = { width: 1200, height: 630 }
export const contentType = 'image/png'

export default function OpengraphImage() {
  return new ImageResponse(
    (
      <div
        style={{
          width: '100%',
          height: '100%',
          display: 'flex',
          justifyContent: 'space-between',
          alignItems: 'center',
          padding: 64,
          background: 'linear-gradient(135deg, #FFF4ED 0%, #F7EDE3 100%)',
          fontFamily: 'Inter, sans-serif',
          color: '#1D1A19',
        }}
      >
        {/* Bloc texte */}
        <div style={{ display: 'flex', flexDirection: 'column', gap: 18, maxWidth: 720 }}>
          <div style={{ fontSize: 56, fontWeight: 800, letterSpacing: -0.5 }}>
            MemoriaBox
          </div>

          <div style={{ fontSize: 34, lineHeight: 1.25 }}>
            Rassemblez <b>photos, vidéos & messages</b> de vos invités
            sur une page privée, simple et soignée.
          </div>

          <div style={{ display: 'flex', gap: 12, marginTop: 8, flexWrap: 'wrap' }}>
            <Tag>Pas d'app</Tag>
            <Tag>Mise en place express</Tag>
            <Tag>Export final</Tag>
          </div>
        </div>

        {/* Logo utilisant votre SVG complet */}
        <div
          style={{
            width: 260,
            height: 260,
            borderRadius: 40,
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'center',
            background: '#FFFFFF',
            border: '8px solid rgba(0,0,0,0.06)',
            boxShadow: '0 20px 60px rgba(0,0,0,0.08)',
          }}
        >
          <YourLogoMark size={200} />
        </div>
      </div>
    ),
    { ...size }
  )
}

function Tag({ children }: { children: string }) {
  return (
    <div
      style={{
        fontSize: 24,
        padding: '8px 14px',
        borderRadius: 999,
        background: 'rgba(255,255,255,0.78)',
        border: '1px solid rgba(0,0,0,0.08)',
      }}
    >
      {children}
    </div>
  )
}

// Version complète de votre LogoIcon (sans hooks pour next/og)
function YourLogoMark({ size = 200 }: { size?: number }) {
  const height = Math.round(size * (763 / 582))
  
  return (
    <svg
      width={size}
      height={height}
      viewBox="201 379 582 763"
      xmlns="http://www.w3.org/2000/svg"
      aria-label="Logo MemoriaBox"
      role="img"
    >
      {/* Corps principal / Coffre - Version complète de votre LogoIcon */}
      <g>
        <path fill="#594D44" d="M337.141 633.547C334.027 614.471 339.548 609.038 357.349 602.637C377.078 595.542 396.878 579.275 407.469 606.567C422.364 599.712 450.894 582.726 460.778 605.335C468.312 622.568 474.608 640.108 481.519 657.918C487.693 670.563 497.774 698.076 476.685 704.104C450.663 711.542 367.424 754.381 345.142 754.658L386.074 838.31C394.85 856.135 404.555 875.068 412.662 893.058C438.685 894.053 473.454 892.86 499.992 892.792L671.243 892.687L730.818 892.636C742.049 892.629 753.822 892.341 765.02 893.198C768.814 893.488 769.683 894.087 772.73 896.342C776.324 899.002 777.053 907.633 777.076 912.019C777.154 926.592 777.107 941.326 777.087 955.933L777.058 1039.44L777.099 1085.09C777.116 1093.51 777.89 1104.91 776.395 1112.93C773.366 1129.17 761.019 1135.89 745.956 1135.9C717.88 1135.92 690.189 1135.9 662.308 1135.9L497.209 1135.92L403.802 1135.92C389.531 1135.95 375.251 1136.12 360.988 1135.97C351.701 1135.88 345.094 1135.02 338.144 1128.38C327.134 1117.87 329.087 1101.43 329.106 1087.51L329.175 1048.84L329.079 908.919L326.628 909.017C259.269 911.082 211.777 873.21 208.053 803.465C206.568 775.654 221.203 728.91 250.661 721.227C265.119 717.456 302.8 719.531 319.885 719.18L319.112 717.425C312.301 701.873 303.676 683.217 299.571 666.985C294.099 645.347 322.48 639.53 337.141 633.547Z"/>
        <path fill="#CFA066" d="M268.738 735.457C287.192 734.829 307.833 735.321 326.445 735.372C331.44 746.668 332.715 751.323 345.142 754.658L386.074 838.31C394.85 856.135 404.555 875.068 412.662 893.058C391.738 893.836 366.45 893.247 345.237 893.257C338.882 881.818 332.01 866.687 326.206 854.728L295.531 790.935C287.057 772.891 276.504 753.504 268.738 735.457Z"/>
        <path fill="#E2B573" d="M444.007 909.95L649.42 909.94C686.469 909.937 724.45 910.338 761.425 909.802L761.421 971.512L761.418 987.44L761.413 1048.34L761.409 1064.73C761.265 1124.44 772.239 1119.81 710.843 1119.81L646.922 1119.8L444.043 1119.86L444.007 909.95Z"/>
        <path fill="#F8B1A1" d="M428.462 402.932C432.724 402.632 438.71 402.93 442.715 404.774C483.091 423.372 455.319 473.942 438.823 499.763C434.079 507.189 422.054 527.5 415.32 530.41C406.554 530.158 372.699 510.795 363.456 505.566C346.054 494.102 324.896 480.938 322.138 458.025C320.092 441.032 332.402 427.106 349.151 425.361C364 423.813 374.766 432.581 385.242 441.863C387.17 443.562 391.11 446.135 393.773 445.611C397.435 444.786 398.597 438.918 399.385 435.715C401.136 428.602 403.008 422.605 407.238 416.458C412.854 408.297 418.912 404.748 428.462 402.932Z"/>
      </g>

      {/* Éléments souvenirs qui sortent du coffre */}
      <g>
        <path fill="#E2B573" d="M689.517 425.634C699.903 424.935 708.936 432.68 709.828 443.049C710.72 453.418 703.142 462.591 692.789 463.675C685.919 464.395 679.195 461.349 675.206 455.711C671.217 450.072 670.585 442.719 673.552 436.483C676.52 430.246 682.625 426.097 689.517 425.634Z"/>
        <path fill="#A4A192" d="M599.504 395.124C630.83 393.956 575.061 447.986 569.256 451.134C564.881 451.062 560.991 449.804 559.436 445.268C558.539 442.648 559.703 438.537 561.473 436.526C570.313 426.481 579.326 416.59 588.027 406.412C591.557 402.283 594.888 398.069 599.504 395.124Z"/>
        <path fill="#E2B573" d="M290.068 566.954C295.687 565.666 301.563 567.512 305.435 571.78C309.308 576.048 310.575 582.074 308.747 587.539C306.92 593.005 302.284 597.058 296.622 598.14C288.086 599.771 279.816 594.267 278.03 585.764C276.243 577.261 281.597 568.895 290.068 566.954Z"/>
        <path fill="#E2B573" d="M502.452 518.741C506.366 517.502 510.644 518.469 513.644 521.272C516.643 524.074 517.898 528.276 516.926 532.264C515.954 536.252 512.907 539.405 508.954 540.514C502.981 542.19 496.767 538.767 494.992 532.824C493.217 526.881 496.538 520.613 502.452 518.741Z"/>
      </g>
    </svg>
  )
}