// app/icon.tsx - Utilise votre LogoIcon existant
import { ImageResponse } from 'next/og'

export const runtime = 'edge'
export const size = { width: 48, height: 48 }
export const contentType = 'image/png'

export default function Icon() {
  return new ImageResponse(
    (
      <div
        style={{
          width: '100%',
          height: '100%',
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
          background: 'white',
          borderRadius: 8,
        }}
      >
        {/* Version simplifiée de votre LogoIcon pour favicon 48x48 */}
        <svg
          width="40"
          height="52"
          viewBox="201 379 582 763"
          xmlns="http://www.w3.org/2000/svg"
          aria-label="Logo MemoriaBox"
          role="img"
        >
          {/* Corps principal du coffre (simplifié) */}
          <g>
            <path fill="#594D44" d="M337.141 633.547C334.027 614.471 339.548 609.038 357.349 602.637C377.078 595.542 396.878 579.275 407.469 606.567C422.364 599.712 450.894 582.726 460.778 605.335C468.312 622.568 474.608 640.108 481.519 657.918C487.693 670.563 497.774 698.076 476.685 704.104C450.663 711.542 367.424 754.381 345.142 754.658L386.074 838.31C394.85 856.135 404.555 875.068 412.662 893.058C438.685 894.053 473.454 892.86 499.992 892.792L671.243 892.687L730.818 892.636C742.049 892.629 753.822 892.341 765.02 893.198C768.814 893.488 769.683 894.087 772.73 896.342C776.324 899.002 777.053 907.633 777.076 912.019C777.154 926.592 777.107 941.326 777.087 955.933L777.058 1039.44L777.099 1085.09C777.116 1093.51 777.89 1104.91 776.395 1112.93C773.366 1129.17 761.019 1135.89 745.956 1135.9C717.88 1135.92 690.189 1135.9 662.308 1135.9L497.209 1135.92L403.802 1135.92C389.531 1135.95 375.251 1136.12 360.988 1135.97C351.701 1135.88 345.094 1135.02 338.144 1128.38C327.134 1117.87 329.087 1101.43 329.106 1087.51L329.175 1048.84L329.079 908.919L326.628 909.017C259.269 911.082 211.777 873.21 208.053 803.465C206.568 775.654 221.203 728.91 250.661 721.227C265.119 717.456 302.8 719.531 319.885 719.18L319.112 717.425C312.301 701.873 303.676 683.217 299.571 666.985C294.099 645.347 322.48 639.53 337.141 633.547Z"/>
            <path fill="#E2B573" d="M444.007 909.95L649.42 909.94C686.469 909.937 724.45 910.338 761.425 909.802L761.421 971.512L761.413 1048.34C761.265 1124.44 772.239 1119.81 710.843 1119.81L646.922 1119.8L444.043 1119.86L444.007 909.95Z"/>
            <path fill="#CFA066" d="M444.057 971.118L505.63 971.116C515.672 971.102 525.686 970.959 535.711 971.19C547.249 971.456 546.21 987.528 535.631 987.621C505.364 987.888 474.294 988.102 444.053 987.702L444.057 971.118Z"/>
          </g>
          
          {/* Quelques éléments "souvenirs" pour la reconnaissance */}
          <g>
            <path fill="#E2B573" d="M689.517 425.634C699.903 424.935 708.936 432.68 709.828 443.049C710.72 453.418 703.142 462.591 692.789 463.675C685.919 464.395 679.195 461.349 675.206 455.711C671.217 450.072 670.585 442.719 673.552 436.483C676.52 430.246 682.625 426.097 689.517 425.634Z"/>
            <path fill="#F8B1A1" d="M428.462 402.932C432.724 402.632 438.71 402.93 442.715 404.774C460.091 413.372 455.319 433.942 448.823 449.763C444.079 457.189 432.054 467.5 425.32 470.41C416.554 470.158 402.699 460.795 393.456 455.566C386.054 454.102 384.896 450.938 382.138 448.025C380.092 441.032 392.402 427.106 409.151 425.361Z"/>
          </g>
        </svg>
      </div>
    ),
    { ...size }
  )
}